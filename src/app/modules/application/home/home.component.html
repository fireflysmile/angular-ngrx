<article>
    <div class="home-content container-fix">
        <!-- box top home -->
        <div class="top-base">
            <div class="box-child first">
                <div class="pull-left">
                    <span class="label-box">Duration</span>
                    <div class="clearfix"></div>
                    <!-- <app-dropdown-no-boder [values]="dropdownDuration" [(activeValue)]="dropdownDurationActive" (select)="action($event)"></app-dropdown-no-boder> -->
                </div>
                <div class="pull-left chart">
                    <!-- <app-d3graph></app-d3graph> -->
                </div>
            </div>
            <div class="box-child">
                <span class="label-box">Total Conflicts</span>
                <p class="number">{{TotalConflicts}}</p>
            </div>
            <div class="box-child border">
                <span class="label-box">Records Auto-Processed</span>
                <p class="number color-green">{{RecordsAutoProcessed}}</p>
            </div>
            <div class="box-child border">
                <span class="label-box">Manual Intervention Needed</span>
                <p class="number color-orange">{{ManualInterventionNeeded}}</p>
            </div>
            <div class="box-child border">
                <span class="label-box">Auto-Rate</span>
                <p class="number color-black">{{AutoRate + "%"}}</p>
            </div>
            
        </div>

        <!-- main content -->
        <div class="main-content">
            <h3 class="title-page">Latest Status <a href="javascript:;"  (click)="progressAll()"><i class="icon-progress"></i>Process All</a></h3>
            <!-- tabel list data -->
            <table class="table user-style qz-table">
                <thead>
                    <tr>
                        <th>
                            <label class="chk">
                                <input type="checkbox" class="chkctrl" [(ngModel)]="selectedAll" (change)="selectAll()">
                                <i class="icon"></i>
                            </label>
                        </th>
                        <th><span class="click-soft" (click)="sortData('Well')">Well <i class="icon-soft rotate180" [ngClass]="{'no-rotate':isAscOrder}"></i></span></th>
                        <th class="th-align-center">Stage No</th>
                        <th>API</th>
                        <th><span class="qz-align-right">Records Affected</span></th>
                        <th><span class="qz-align-right">Duplicates</span></th>
                        <th><span class="click-soft" (click)="sortData('Status')">Status <i class="icon-soft rotate180" [ngClass]="{'no-rotate':isAscOrder}"></i></span></th>
                        <th class="th-align-center">Action</th>
                    </tr>
                </thead>
                <!-- record repeat -->
                <tbody *ngFor="let item of listProgress; let i=index">
                    <!-- record -->
                    <tr class="qz-tr-main" [ngStyle]="{ 'border-bottom' : (item['Show']) ? 'none' : '15px solid #eff3f6' }">
                        <td>
                            <label class="chk">
                                <input type="checkbox" class="chkctrl" [(ngModel)]="item['selected']" (change)="checkIfAllSelected()">
                                <i class="icon"></i>
                            </label>
                        </td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }"><span>{{item['Well']}}</span></td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }"><span>{{item['Stage No']}}</span></td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }">{{item['API']}}</td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }"><span class="qz-align-right">{{item['Records Affected']}}</span></td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }"><span class="qz-align-right">{{item['Duplicates']}}</span></td>
                        <td class="qz-bg-white" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }">
                                <span class="fa fa-circle qz-fa-circle" *ngIf="item['Status'] == 'Not Processed'" [ngStyle]="{'background-color':'#D4D4D4'}"></span>
                                <span class="fa fa-circle qz-fa-circle" *ngIf="item['Status'] == 'Completed'" [ngStyle]="{'background-color':'#006BD5'}"></span>
                                <span class="fa fa-circle qz-fa-circle" *ngIf="item['Status'] == 'Needs Manual Review'" [ngStyle]="{'background-color':'#F5A623'}"></span>
                            {{item['Status']}}
                        </td>
                        <td class="qz-bg-white td-align-center" [ngStyle]="{ 'background' : (item['Show']) ? '#EAEAEA' : '#FFFFFF' }">
                            <a  href="javascript:;" *ngIf="item['Status'] == 'Not Processed' && item['starting']" class="action hover" (click)="isProcessing(item.id - 1)">Process</a>
                            <a href="javascript:;"  *ngIf="item['Status'] == 'Completed' && !item['Show']" class="action no-border" (click)="isShowView(item.id - 1)"><i class="icon-report"></i> View Report</a>
                            <a href="javascript:;"  *ngIf="item['Status'] == 'Completed' && item['Show']" class="no-action no-border" (click)="isShowView(item.id - 1)"><i class="icon-hide-report"></i> Hide Report</a>
                            <a href="javascript:;" *ngIf="item['Status'] == 'Needs Manual Review'" class="action no-border" (click)="goReview()"><i class="icon-review"></i> Review</a>
                            <a href="javascript:;" *ngIf="item['processing'] && item['Status'] == 'Not Processed'" class="action no-border fix-color"><i class="icon-processing"></i> Processing...</a>
                        </td>                      
                    </tr>
                    <!-- record detail -->
                    <tr *ngIf="item['Show']" class="qz-tr-padding">
                        <td></td>
                        <td colspan="7">
                            <div class="qz-box-review" style="clear: both;">
                                <div class="box-child first box-row-processed">
                                    <div class="row-processed">
                                        <span class="pull-left">
                                            <p class="number color-green">{{item['Rows processed']}}</p>
                                            <span class="label-box">Rows processed</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="box-child first box-row-dataset">
                                    <div class="row-dataset">
                                        <span class="pull-left border">
                                            <div class="dataset1">
                                                <p class="number font-44">{{item['original']}}</p>
                                                <span class="label-box">Columns in <br/><b>original</b> dataset</span>
                                            </div>
                                            <div class="dataset2">
                                                <img src="../assets/img/Group-6.svg"/>
                                            </div>
                                            <div class="dataset1">
                                                <p class="number font-44">{{item['final']}}</p>
                                                <span class="label-box">Columns in <br/><b>final</b> dataset</span>
                                            </div>
                                        </span>
                                    </div>
                                </div>
                                <div class="box-child first box-row-master-data">
                                    <div class="row-master-data">
                                        <span class="pull-left border">
                                            <p class="number font-36">{{item['Master Data']}}</p>
                                            <span class="label-box">Column used as Master Data</span>
                                        </span>
                                    </div>
                                </div>                                    
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</article>